# üéâ MergeSensei - –£—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω!

## üìã –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è
‚úÖ **–î–ï–ü–õ–û–ô –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù!**

## üåê –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
- **URL**: http://mergesensei.dev1853.ru
- **IP —Å–µ—Ä–≤–µ—Ä–∞**: 82.146.36.8
- **–ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: 3001 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- **–ü–æ—Ä—Ç Nginx**: 80 (–≤–Ω–µ—à–Ω–∏–π)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```
Internet ‚Üí Nginx (–ø–æ—Ä—Ç 80) ‚Üí MergeSensei App (–ø–æ—Ä—Ç 3001)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **–ü—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: `/var/www/mergesensei/`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PM2**: `ecosystem.config.cjs`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx**: `/etc/nginx/sites-available/mergesensei`
- **–õ–æ–≥–∏**: `/var/www/mergesensei/logs/`

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### PM2 –∫–æ–º–∞–Ω–¥—ã
```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 status

# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 logs mergesensei

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart mergesensei

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 stop mergesensei

# –ó–∞–ø—É—Å–∫
pm2 start mergesensei
```

### Nginx –∫–æ–º–∞–Ω–¥—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
systemctl reload nginx

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl restart nginx

# –°—Ç–∞—Ç—É—Å
systemctl status nginx
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Health Check**: http://mergesensei.dev1853.ru/health
- **–°—Ç–∞—Ç—É—Å PM2**: `pm2 status`
- **–õ–æ–≥–∏ Nginx**: `/var/log/nginx/`
- **–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: `/var/www/mergesensei/logs/`

## üöÄ –ß—Ç–æ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### 1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω production —Å–µ—Ä–≤–µ—Ä (`server/production.ts`)
- ‚úÖ –°–æ–±—Ä–∞–Ω –≤ `dist/production.js`
- ‚úÖ –ó–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2 –Ω–∞ –ø–æ—Ä—Ç—É 3001
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

### 2. Nginx
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–º–µ–Ω–∞ `mergesensei.dev1853.ru`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ—Ä—Ç 3001
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω health check endpoint

### 3. PM2
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## üîç –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Ä—Ç 3000 –±—ã–ª –∑–∞–Ω—è—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º `money_flow_frontend`
- **–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ 3001

### 2. ES –º–æ–¥—É–ª–∏ vs CommonJS
- **–ü—Ä–æ–±–ª–µ–º–∞**: PM2 –Ω–µ –º–æ–≥ –ø—Ä–æ—á–∏—Ç–∞—Ç—å ES –º–æ–¥—É–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω —Ñ–∞–π–ª –≤ `ecosystem.config.cjs`

### 3. Nginx –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ 404 –æ—à–∏–±–∫–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `server_name` –∏ `proxy_pass`

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl -H 'Host: mergesensei.dev1853.ru' http://82.146.36.8/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ health check
curl -H 'Host: mergesensei.dev1853.ru' http://82.146.36.8/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep :3001
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 stop mergesensei

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
scp -r dist/ root@82.146.36.8:/var/www/mergesensei/

# –ó–∞–ø—É—Å–∫
pm2 start mergesensei
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS —á–µ—Ä–µ–∑ Let's Encrypt
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–ª–µ—Ä—Ç—ã
3. **–ë—ç–∫–∞–ø—ã**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
4. **CI/CD**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ Git

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É **http://mergesensei.dev1853.ru**

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- ‚úÖ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 3001)
- ‚úÖ PM2 –ø—Ä–æ—Ü–µ—Å—Å –º–µ–Ω–µ–¥–∂–µ—Ä
- ‚úÖ Nginx reverse proxy
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

**–î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ! üöÄ**
